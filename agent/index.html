<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Let's start a band [YNIK]</title>
  <meta name="description" content="AI Agent - Yeah No I Know" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      background: 
        radial-gradient(circle at 20% 20%, rgba(168, 85, 247, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 30%, rgba(59, 130, 246, 0.06) 0%, transparent 50%),
        radial-gradient(circle at 30% 80%, rgba(6, 182, 212, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 70% 70%, rgba(16, 185, 129, 0.04) 0%, transparent 50%),
        radial-gradient(circle at 90% 10%, rgba(245, 158, 11, 0.05) 0%, transparent 50%),
        linear-gradient(to right, #0a0f1c, #111827);
      position: relative;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.02'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 1;
    }
    main {
      position: relative;
      z-index: 2;
    }
    .section-glow {
      background-color: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(2px);
      border-radius: 0.5rem;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }
    .blue-accent {
      color: #3b82f6;
    }
    .blue-accent:hover {
      color: #60a5fa;
    }
    .action-button {
      background-color: white;
      color: #1f2937;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(8px);
    }
    .action-button:hover {
      background-color: #f8fafc;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2), 0 4px 8px rgba(0, 0, 0, 0.15);
    }
    .action-button:disabled {
      background-color: #6b7280;
      color: #9ca3af;
      cursor: not-allowed;
      transform: none;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .action-button:disabled:hover {
      background-color: #6b7280;
      transform: none;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .chat-input {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: white;
      transition: all 0.3s ease;
      backdrop-filter: blur(12px);
      box-shadow: 
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .chat-input:focus {
      outline: none;
      border-color: rgba(59, 130, 246, 0.6);
      box-shadow: 
        0 0 0 3px rgba(59, 130, 246, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.15),
        0 8px 16px rgba(0, 0, 0, 0.15);
      background: rgba(255, 255, 255, 0.12);
    }
    .chat-input::placeholder {
      color: rgba(255, 255, 255, 0.25);
    }
    .chat-container {
      max-width: 700px;
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }
  </style>
</head>
<body class="text-white font-sans">
  <main class="min-h-screen p-4 pt-4">
    <header class="mx-auto text-center mb-12 flex justify-center">
      <a href="/" class="inline-block text-white font-black tracking-tight opacity-30 hover:opacity-80 transition-opacity duration-500 flex justify-center" style="mix-blend-mode: screen; filter: brightness(2) contrast(1.5);">
        YNIK‚Ñ¢
      </a>
    </header>

    <section class="max-w-4xl mx-auto">
      <div class="mb-12 text-center">
        <h1 class="text-2xl font-semibold mb-2 text-white" id="pageTitle">
            üé∏ Let's Start a Band! ü•Å
        </h1>
        <p class="text-xs text-gray-500 hover:text-gray-400 transition-colors duration-500 max-w-xl mx-auto">
            I can help with research, planning, creative tasks, and thoughtful conversation.
        </p>
      </div>

      <div class="chat-container mx-auto p-6 rounded-2xl shadow-2xl">
        <div class="space-y-4">
          
          <!-- Messages Area -->
          <div class="messages-area space-y-4 mb-6 max-h-80 overflow-y-auto" id="messagesArea">
            <!-- Bot Message -->
            <div class="flex justify-start">
              <div class="max-w-xs lg:max-w-md">
                <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-sm rounded-2xl rounded-bl-sm px-4 py-3 border border-white border-opacity-10">
                  <p class="text-lg text-white">Tell me your favorite 7 bands.</p>
                </div>
                <div class="flex items-center mt-1 ml-2">
                  <div class="w-2 h-2 bg-blue-400 rounded-full mr-2"></div>
                  <span class="text-xs text-gray-500">Agent</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Input Section -->
          <div class="relative">
            <textarea 
              class="chat-input w-full p-4 rounded-xl resize-none text-base leading-relaxed" 
              rows="3"
              placeholder="Got an answer?"
              maxlength="2000"></textarea>
            <div class="absolute bottom-3 right-3 text-xs text-gray-500">
              <span id="charCount">0</span>/2000
            </div>
          </div>
          
          <!-- Action Bar -->
          <div class="flex items-center justify-between pt-3 border-t border-white border-opacity-5">
            <div class="flex items-center space-x-4">
              <div class="flex items-center space-x-2 text-xs text-gray-400 opacity-50" id="agentStatus">
                <div class="w-2 h-2 bg-yellow-400 rounded-full" id="statusIndicator"></div>
                <span id="statusText">Inactive</span>
              </div>
            </div>
            
            <div class="flex items-center space-x-2">
              <button class="text-gray-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-white hover:bg-opacity-5" title="Clear">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                </svg>
              </button>
              
              <button class="action-button px-6 py-2.5 rounded-lg text-sm font-semibold flex items-center space-x-2" id="sendButton">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" id="sendIcon">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg>
                <span id="sendText">Send</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="mt-8" id="suggest">
        <p class="text-xs text-gray-500 mb-3 text-center">Choose an agent template:</p>
        <div class="flex flex-wrap justify-center gap-2 max-w-2xl mx-auto">
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            üìä Market Intelligence
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            üìù Intake Wizard
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            üé® Creative Kickoff
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            üó£Ô∏è Conversation Prep
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            üìö Study Buddy
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            üåÖ Morning Momentum
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            ‚ö° Strategic Leadership
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            üó∫Ô∏è Life Planning
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            üåê Generate a Website
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            üéØ Brand Strategy Engine
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            ‚öñÔ∏è Debate Opposite Ideas
          </button>
          <button class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-200 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm">
            üåô Evening Reflection
          </button>
        </div>
      </div>

    </section>
  </main>

  <script>
    // Character counter functionality
    const textarea = document.querySelector('.chat-input');
    const charCount = document.getElementById('charCount');
    const messagesArea = document.getElementById('messagesArea');
    const sendButton = document.getElementById('sendButton');
    const sendIcon = document.getElementById('sendIcon');
    const sendText = document.getElementById('sendText');
    
    // Response tracking - keep track of used responses
    let usedResponses = new Set();
    
    // Agent status elements
    const statusIndicator = document.getElementById('statusIndicator');
    const statusText = document.getElementById('statusText');
    const pageTitle = document.getElementById('pageTitle');
    
    // Get URL parameter and update title
    const urlParams = new URLSearchParams(window.location.search);
    const agentId = urlParams.get('id');
    
    // Map of agent IDs to display titles
    const agentTitles = {
      'market-intelligence': 'üìä Market Intelligence',
      'intake-wizard': 'üìù Intake Wizard',
      'creative-kickoff': 'üé® Creative Kickoff',
      'conversation-prep': 'üó£Ô∏è Conversation Prep',
      'morning-momentum': 'üåÖ Morning Momentum',
      'study-buddy': 'üìö Study Buddy',
      'product-support': 'üõ†Ô∏è Product Support',
      'strategic-leadership': '‚ö° Strategic Leadership',
      'evening-reflection': 'üåô Evening Reflection',
      'life-planning': 'üó∫Ô∏è Life Planning',
      'generate-website': 'üåê Generate Website',
      'brand-strategy': 'üéØ Brand Strategy',
      'debate-ideas': '‚öñÔ∏è Debate Ideas',
      'onboarding-journeys': 'üöÄ Onboarding Journeys'
    };
    
    // Update title if agent ID is provided
    if (agentId && agentTitles[agentId]) {
      pageTitle.textContent = agentTitles[agentId];
    }
    
    // Change agent status to ready after 500ms
    setTimeout(() => {
      statusIndicator.className = 'w-2 h-2 bg-green-400 rounded-full animate-pulse';
      statusText.textContent = 'Ready';
    }, 500);
    
    // Character counter functionality and typing indicators
    let userTypingTimeout;
    let isUserTyping = false;
    
    textarea.addEventListener('input', function() {
      const count = this.value.length;
      charCount.textContent = count;
      
      // Change color as approaching limit
      if (count > 1800) {
        charCount.style.color = '#ef4444';
      } else if (count > 1500) {
        charCount.style.color = '#f59e0b';
      } else {
        charCount.style.color = '#6b7280';
      }

      // Show user typing indicator if there's text and user isn't already typing
      if (count > 0 && !isUserTyping) {
        isUserTyping = true;
        addUserTypingIndicator();
      }

      // Clear existing timeout
      clearTimeout(userTypingTimeout);

      // Set new timeout to hide typing indicator after 2 seconds of no typing
      userTypingTimeout = setTimeout(() => {
        isUserTyping = false;
        removeUserTypingIndicator();
      }, 2000);

      // If textarea is empty, immediately hide typing indicator
      if (count === 0) {
        isUserTyping = false;
        removeUserTypingIndicator();
        clearTimeout(userTypingTimeout);
      }
    });

    // Clear button functionality
    const clearBtn = document.querySelector('[title="Clear"]');
    clearBtn.addEventListener('click', function() {
      textarea.value = '';
      charCount.textContent = '0';
      charCount.style.color = '#6b7280';
      // Remove user typing indicator when clearing
      isUserTyping = false;
      removeUserTypingIndicator();
      clearTimeout(userTypingTimeout);
      textarea.focus();
    });

    // Quick action buttons
    const quickActions = document.querySelectorAll('[class*="bg-white bg-opacity-5"]');
    quickActions.forEach(button => {
      button.addEventListener('click', function() {
        textarea.value = this.textContent.trim();
        textarea.focus();
        charCount.textContent = textarea.value.length;
      });
    });

    // Function to add user message
    function addUserMessage(message) {
      const userMessageHtml = `
        <div class="flex justify-end">
          <div class="max-w-xs lg:max-w-md">
            <div class="bg-blue-500 bg-opacity-20 backdrop-filter backdrop-blur-sm rounded-2xl rounded-br-sm px-4 py-3 border border-blue-400 border-opacity-30">
              <p class="text-white">${message}</p>
            </div>
            <div class="flex items-center justify-end mt-1 mr-2">
              <span class="text-xs text-gray-500 mr-2">You</span>
              <div class="w-2 h-2 bg-green-400 rounded-full"></div>
            </div>
          </div>
        </div>
      `;
      messagesArea.insertAdjacentHTML('beforeend', userMessageHtml);
      messagesArea.scrollTop = messagesArea.scrollHeight;
    }

    // Function to add user typing indicator
    function addUserTypingIndicator() {
      // Remove existing user typing indicator if it exists
      const existingUserTyping = document.getElementById('userTyping');
      if (existingUserTyping) {
        existingUserTyping.remove();
      }

      const typingHtml = `
        <div class="flex justify-end" id="userTyping">
          <div class="max-w-xs lg:max-w-md">
            <div class="bg-blue-500 bg-opacity-20 backdrop-filter backdrop-blur-sm rounded-2xl rounded-br-sm px-4 py-3 border border-blue-400 border-opacity-30">
              <div class="flex space-x-1">
                <div class="w-2 h-2 bg-gray-300 rounded-full animate-bounce"></div>
                <div class="w-2 h-2 bg-gray-300 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
                <div class="w-2 h-2 bg-gray-300 rounded-full animate-bounce" style="animation-delay: 0.4s;"></div>
              </div>
            </div>
            <div class="flex items-center justify-end mt-1 mr-2">
              <span class="text-xs text-gray-500 mr-2">You are typing...</span>
              <div class="w-2 h-2 bg-green-400 rounded-full"></div>
            </div>
          </div>
        </div>
      `;
      messagesArea.insertAdjacentHTML('beforeend', typingHtml);
      messagesArea.scrollTop = messagesArea.scrollHeight;
    }

    // Function to remove user typing indicator
    function removeUserTypingIndicator() {
      const userTypingElement = document.getElementById('userTyping');
      if (userTypingElement) {
        userTypingElement.remove();
      }
    }

    // Function to add bot typing indicator
    function addBotTypingIndicator() {
      const typingHtml = `
        <div class="flex justify-start" id="botTyping">
          <div class="max-w-xs lg:max-w-md">
            <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-sm rounded-2xl rounded-bl-sm px-4 py-3 border border-white border-opacity-10">
              <div class="flex space-x-1">
                <div class="w-2 h-2 bg-gray-300 rounded-full animate-bounce"></div>
                <div class="w-2 h-2 bg-gray-300 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
                <div class="w-2 h-2 bg-gray-300 rounded-full animate-bounce" style="animation-delay: 0.4s;"></div>
              </div>
            </div>
            <div class="flex items-center mt-1 ml-2">
              <div class="w-2 h-2 bg-blue-400 rounded-full mr-2"></div>
              <span class="text-xs text-gray-500">Agent is typing...</span>
            </div>
          </div>
        </div>
      `;
      messagesArea.insertAdjacentHTML('beforeend', typingHtml);
      messagesArea.scrollTop = messagesArea.scrollHeight;
    }

    // Function to remove bot typing indicator and add response
    function addBotResponse(message) {
      // Remove typing indicator
      const typingElement = document.getElementById('botTyping');
      if (typingElement) {
        typingElement.remove();
      }

      // Add bot response
      const botMessageHtml = `
        <div class="flex justify-start">
          <div class="max-w-xs lg:max-w-md">
            <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-sm rounded-2xl rounded-bl-sm px-4 py-3 border border-white border-opacity-10">
              <p class="text-white">${message}</p>
            </div>
            <div class="flex items-center mt-1 ml-2">
              <div class="w-2 h-2 bg-blue-400 rounded-full mr-2"></div>
              <span class="text-xs text-gray-500">Agent</span>
            </div>
          </div>
        </div>
      `;
      messagesArea.insertAdjacentHTML('beforeend', botMessageHtml);
      messagesArea.scrollTop = messagesArea.scrollHeight;

      // Re-enable send button and restore appearance
      sendButton.disabled = false;
      sendButton.classList.remove('opacity-50', 'cursor-not-allowed');
      sendButton.style.backgroundColor = 'white';
      sendButton.style.color = '#1f2937';
      sendIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>';
      sendText.textContent = 'Send';
    }

    // Send button functionality
    sendButton.addEventListener('click', function() {
      const message = textarea.value.trim();
      if (message && !sendButton.disabled) {
        // Remove user typing indicator before sending
        isUserTyping = false;
        removeUserTypingIndicator();
        clearTimeout(userTypingTimeout);
        
        // Add user message
        addUserMessage(message);
        
        // Clear textarea
        textarea.value = '';
        charCount.textContent = '0';
        charCount.style.color = '#6b7280';
        
        // Disable send button and change appearance immediately
        sendButton.disabled = true;
        sendButton.classList.add('opacity-50', 'cursor-not-allowed');
        sendIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>';
        sendText.textContent = 'Sending...';
        
        // Show bot typing after 500ms delay
        setTimeout(() => {
          addBotTypingIndicator();
          
          // Simulate bot response after another 2-3 seconds
          setTimeout(() => {
            const allResponses = [
              "Nice picks!",
              "Great choices! I can see some interesting patterns in your music taste. What genre would you say best represents your band's sound?",
              "Wow, eclectic taste! üéµ",
              "Those are some solid bands! I'm noticing a mix of styles there. Are you thinking more indie rock, alternative, or maybe something experimental?",
              "Cool! What draws you to those particular artists?",
              "Nice selection! Those artists suggest you might be going for a pretty dynamic sound. What instruments do you play?",
              "Interesting... I'm seeing some common threads here. Do you lean more toward the melodic side or are you all about that rhythm section?",
              "Cool bands! I can hear some influences there. Are you looking to start from scratch or do you already have some songs in mind?",
              "Love it! ü§ò",
              "Those are some interesting choices! I'm noticing you've got everything from classic rock vibes to more modern indie sounds. That's actually perfect for a band - having diverse influences usually leads to a more unique sound. Are you thinking of blending those styles, or do you want to pick one direction and really dive deep?",
              "Solid list!",
              "I can definitely work with this! Your taste spans a few decades and some really distinct sounds. What's your experience level with making music? Are you a seasoned musician looking to start something new, or are you just getting into the music-making game?",
              "Excellent taste! What's your favorite song from each?",
              "Those bands tell me you're not afraid of experimenting with sound, which is exactly what you need for a successful band. The music industry is saturated with cookie-cutter acts, so having that willingness to blend influences is huge. Have you thought about what role you'd want to play in this band - frontperson, songwriter, instrumentalist, or maybe you're thinking more producer/creative director?",
              "Sweet choices! üé∏",
              "I love the variety here! You've got some real songwriting powerhouses in that list. Are you more interested in the lyrical storytelling aspect, or are you drawn to the instrumental complexity?",
              "Nice range!",
              "Perfect! These artists are known for their authentic, uncompromising approaches to music. That tells me you're probably looking to create something real rather than just chasing trends. What's driving you to want to start a band right now? Is it a creative itch you need to scratch, or something deeper?",
              "Love the diversity! What's your musical background?",
              "Those bands have some serious staying power - they've influenced generations of musicians. I'm curious: when you listen to music, what hits you first? Is it the lyrics that grab you, the melody, the rhythm, or maybe the overall vibe and atmosphere?",
              "Great mix of old and new!",
              "This is a fantastic foundation to work from! Each of these artists brought something totally unique to the table. Are you thinking of forming a band with people you already know, or are you open to finding new collaborators? The dynamic between band members can totally shape the sound you end up with.",
              "Awesome! What instruments do you play?",
              "I can already hear the potential in this combination! Your influences suggest you appreciate both technical skill and emotional depth in music. That's a killer combo. Have you written any songs before, or would this band be your first real dive into songwriting and composition?",
              "Perfect starting point! ü•Å"
            ];
            
            // Get unused responses
            const availableResponses = allResponses.filter(response => !usedResponses.has(response));
            
            // If all responses have been used, reset the used responses set
            if (availableResponses.length === 0) {
              usedResponses.clear();
              availableResponses.push(...allResponses);
            }
            
            // Select random response from available ones
            const randomIndex = Math.floor(Math.random() * availableResponses.length);
            const selectedResponse = availableResponses[randomIndex];
            
            // Mark this response as used
            usedResponses.add(selectedResponse);
            
            addBotResponse(selectedResponse);
          }, Math.random() * 2000 + 2000); // 2-4 seconds
        }, 500);
      }
    });

    // Enter key to send (Shift+Enter for new line)
    textarea.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendButton.click();
      }
    });
  </script>
</body>
</html>