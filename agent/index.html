<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Yeah No I Know [YNIK]</title>
  <meta name="description" content="AI Agent - Yeah No I Know" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      background: 
        radial-gradient(circle at 20% 20%, rgba(168, 85, 247, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 30%, rgba(59, 130, 246, 0.06) 0%, transparent 50%),
        radial-gradient(circle at 30% 80%, rgba(6, 182, 212, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 70% 70%, rgba(16, 185, 129, 0.04) 0%, transparent 50%),
        radial-gradient(circle at 90% 10%, rgba(245, 158, 11, 0.05) 0%, transparent 50%),
        linear-gradient(to right, #0a0f1c, #111827);
      position: relative;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.02'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 1;
    }
    main {
      position: relative;
      z-index: 2;
    }
    .section-glow {
      background-color: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(2px);
      border-radius: 0.5rem;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }
    .blue-accent {
      color: #3b82f6;
    }
    .blue-accent:hover {
      color: #60a5fa;
    }
    .action-button {
      background-color: white;
      color: #1f2937;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(8px);
    }
    .action-button:hover {
      background-color: #f8fafc;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2), 0 4px 8px rgba(0, 0, 0, 0.15);
    }
    .action-button:disabled {
      background-color: #6b7280;
      color: #9ca3af;
      cursor: not-allowed;
      transform: none;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .action-button:disabled:hover {
      background-color: #6b7280;
      transform: none;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .chat-input {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: white;
      transition: all 0.3s ease;
      backdrop-filter: blur(12px);
      box-shadow: 
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .chat-input:focus {
      outline: none;
      border-color: rgba(59, 130, 246, 0.6);
      box-shadow: 
        0 0 0 3px rgba(59, 130, 246, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.15),
        0 8px 16px rgba(0, 0, 0, 0.15);
      background: rgba(255, 255, 255, 0.12);
    }
    .chat-input::placeholder {
      color: rgba(255, 255, 255, 0.25);
    }
    .chat-container {
      max-width: 700px;
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }
  </style>
</head>
<body class="text-white font-sans">
  <main class="min-h-screen p-4 pt-4">
    <header class="mx-auto text-center mb-12 flex justify-center">
      <a href="/" class="inline-block text-white font-black tracking-tight opacity-20 hover:opacity-70 transition-opacity duration-1000 flex justify-center" style="mix-blend-mode: screen; filter: brightness(2) contrast(1.5);">
        YNIK‚Ñ¢
      </a>
    </header>

    <!-- Copilot: copilot_cmcd256r800010gs6u5y6hwce
    Workflow: wf_cmcd2549f00010gs643ucdo6a -->

    <section class="max-w-4xl mx-auto">
      <div class="mb-12 text-center">
        <h1 class="text-3xl font-semibold mb-2 text-white" id="pageTitle">
          Yeah No I Know
        </h1>
        <p class="text-xs text-gray-500 hover:text-gray-400 transition-colors duration-500 max-w-xl mx-10 md:mx-auto">
          I can help with research, planning, creative tasks, and thoughtful conversation.
        </p>
      </div>

      <div class="chat-container mx-auto p-3 md:p-6 rounded-3xl shadow-2xl">
        <div class="space-y-4">
          
          <!-- Messages Area -->
          <div class="messages-area space-y-4 mb-6 max-h-80 overflow-y-auto" id="messagesArea">
            <!-- Bot Message -->
            <div class="flex justify-start">
              <div class="max-w-xs lg:max-w-md">
                <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-sm rounded-2xl rounded-bl-sm px-4 py-3 border border-white border-opacity-10">
                  <p class="text-lg text-white">Tell me your favorite 7 bands.</p>
                </div>
                <div class="flex items-center mt-1 ml-2">
                  <div class="w-2 h-2 bg-blue-400 rounded-full mr-2"></div>
                  <span class="text-xs text-gray-500">Agent</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Input Section -->
          <div class="relative">
            <textarea 
              class="chat-input w-full p-4 rounded-xl resize-none text-base leading-relaxed" 
              rows="3"
              placeholder="Got an answer?"
              maxlength="2000"></textarea>
            <div class="absolute bottom-3 right-3 text-xs text-gray-500">
              <span id="charCount">0</span>/2000
            </div>
          </div>
          
          <!-- Action Bar -->
          <div class="flex items-center justify-between pt-3 border-t border-white border-opacity-5">
            <div class="flex items-center space-x-4">
              <div class="flex items-center space-x-2 text-xs text-gray-400 opacity-50" id="agentStatus">
                <div class="w-2 h-2 bg-yellow-400 rounded-full" id="statusIndicator"></div>
                <span id="statusText">Inactive</span>
              </div>
            </div>
            
            <div class="flex items-center space-x-2">
              <button class="text-gray-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-white hover:bg-opacity-5" title="Clear">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                </svg>
              </button>
              
              <button class="action-button px-6 py-2.5 rounded-lg text-sm font-semibold flex items-center space-x-2" id="sendButton">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" id="sendIcon">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg>
                <span id="sendText">Send</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="mt-12" id="suggest">
        <p class="text-sm text-gray-500 mb-4 text-center">Try a few more...</p>
        <div class="flex flex-wrap justify-center gap-2 max-w-2xl mx-auto">
          <a href="/agent/?id=market-intelligence" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üìä Market Intelligence
          </a>
          <a href="/agent/?id=intake-wizard" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üìù Intake Wizard
          </a>
          <a href="/agent/?id=creative-kickoff" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üé® Creative Kickoff
          </a>
          <a href="/agent/?id=conversation-prep" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üó£Ô∏è Conversation Prep
          </a>
          <a href="/agent/?id=morning-momentum" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üåÖ Morning Momentum
          </a>
          <a href="/agent/?id=study-buddy" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üìö Study Buddy
          </a>
          <a href="/agent/?id=product-support" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üöÄ Product Support Expert
          </a>
          <a href="/agent/?id=strategic-leadership" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            ‚ö° Strategic Leadership
          </a>
          <a href="/agent/?id=evening-reflection" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üåô Evening Reflection
          </a>
          <a href="/agent/?id=life-planning" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üó∫Ô∏è Life Planning
          </a>
          <a href="/agent/?id=generate-website" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üåê Generate a Website
          </a>
          <a href="/agent/?id=brand-strategy" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üéØ Brand Strategy Engine
          </a>
          <a href="/agent/?id=debate-ideas" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            ‚öñÔ∏è Debate Opposite Ideas
          </a>
          <a href="/agent/?id=onboarding-journeys" class="px-3 py-1.5 text-xs bg-white bg-opacity-5 hover:bg-opacity-10 rounded-full border border-white border-opacity-10 hover:border-opacity-20 transition-all duration-300 text-gray-300 hover:text-white backdrop-filter backdrop-blur-sm opacity-50 hover:opacity-100">
            üöÄ Onboarding Journeys
          </a>
        </div>
      </div>

    </section>
  </main>

  <script>
    // Character counter functionality
    const textarea = document.querySelector('.chat-input');
    const charCount = document.getElementById('charCount');
    const messagesArea = document.getElementById('messagesArea');
    const sendButton = document.getElementById('sendButton');
    const sendIcon = document.getElementById('sendIcon');
    const sendText = document.getElementById('sendText');
    
    // Response tracking - keep track of used response indices
    let usedResponseIndices = new Set();
    
    // Agent status elements
    const statusIndicator = document.getElementById('statusIndicator');
    const statusText = document.getElementById('statusText');
    const pageTitle = document.getElementById('pageTitle');
    
    // Get URL parameter and update title
    const urlParams = new URLSearchParams(window.location.search);
    const agentId = urlParams.get('id');
    
    // Configuration object for each agent type
    const agentConfigs = {
      'market-intelligence': {
        title: 'üìä Market Intelligence',
        question: 'What market trends would you like me to analyze for you?',
        responses: [
          "Excellent choice! Let me break down the key data points and emerging patterns in that market segment.",
          "I can see several interesting trends emerging here. What's your current market position in this space?",
          "That's a hot market right now! Are you looking at this from a competitive analysis or investment perspective?",
          "Great market to analyze. I'm seeing some compelling shifts in consumer behavior - let me walk you through the data.",
          "Perfect timing on this analysis. What specific metrics or timeframe are you most interested in?"
        ]
      },
      'intake-wizard': {
        title: 'üìù Intake Wizard',
        question: 'What will your first agent solve for you?',
        responses: [
          "Sounds like a solid project! Let's start by defining your key objectives and success metrics.",
          "Great choice! I'll help you map out all the essential components and create a structured approach.",
          "Perfect! Let me gather the key details so we can build a comprehensive framework for this.",
          "Excellent project to tackle. What's your primary goal and what resources do you have available?",
          "I love helping set these up! Let's break this down into manageable phases and identify your stakeholders."
        ]
      },
      'creative-kickoff': {
        title: 'üé® Creative Kickoff',
        question: 'What creative project are we starting today?',
        responses: [
          "This sounds exciting! Let's explore some innovative approaches and brainstorm the possibilities.",
          "I'm energized already! What's your vision for this project and who's your target audience?",
          "Creative projects are my favorite! Let's start by defining your aesthetic goals and key messages.",
          "Amazing! What's inspiring this project and what creative constraints or parameters should we work within?",
          "Love the creative energy! Let's map out your concept and identify the best execution strategy."
        ]
      },
      'conversation-prep': {
        title: 'üó£Ô∏è Conversation Prep',
        question: 'What important conversation are you preparing for?',
        responses: [
          "That's a significant conversation. Let's strategize your key points and anticipate potential responses.",
          "Important conversations require good preparation. What outcome are you hoping to achieve?",
          "Let's make sure you feel confident going in. What are your main concerns about this conversation?",
          "Great that you're preparing thoughtfully! What's the relationship dynamic and context I should know about?",
          "Smart to prep ahead. Let's practice your key messages and work through some potential scenarios."
        ]
      },
      'morning-momentum': {
        title: 'üåÖ Morning Momentum',
        question: 'What would you like to accomplish today?',
        responses: [
          "Love the morning energy! Let's prioritize your goals and create a focused action plan.",
          "Great way to start the day! What's the most important thing you want to tackle first?",
          "Perfect timing for planning! Let's break down your priorities and set you up for success.",
          "I'm feeling motivated already! What's been on your mind that you'd like to move forward on?",
          "Excellent morning mindset! Let's channel this energy into concrete steps toward your goals."
        ]
      },
      'study-buddy': {
        title: 'üìö Study Buddy',
        question: 'What subject or topic would you like to study together?',
        responses: [
          "Awesome topic to dive into! What's your current understanding level and learning goals?",
          "I'm ready to learn with you! How do you prefer to study - concepts first or hands-on practice?",
          "Great subject choice! What specific areas are you finding challenging or want to focus on?",
          "Perfect! Let's create a study plan that builds on what you already know and fills in the gaps.",
          "I love exploring this topic! What's motivating your interest and what's your timeline for learning?"
        ]
      },
      'product-support': {
        title: 'üõ†Ô∏è Product Support',
        question: 'What product issue can I help you troubleshoot?',
        responses: [
          "I'll help you get this sorted out quickly. Can you walk me through exactly what's happening?",
          "Let's troubleshoot this step by step. When did you first notice this issue occurring?",
          "I'm here to help! Have you tried any solutions already, and what's your current setup?",
          "No problem, we'll figure this out together. What were you trying to do when the issue started?",
          "Let's get this resolved for you. Can you describe the specific error or unexpected behavior you're seeing?"
        ]
      },
      'strategic-leadership': {
        title: '‚ö° Strategic Leadership',
        question: 'What leadership challenge are you facing?',
        responses: [
          "Leadership challenges are opportunities for growth. Let's analyze the situation and explore strategic options.",
          "That's a complex leadership scenario. What's the organizational context and key stakeholders involved?",
          "Great question for strategic thinking. What outcomes are you trying to achieve for your team or organization?",
          "Leadership decisions require careful consideration. What are the main factors and constraints you're working with?",
          "Excellent leadership mindset! Let's break down the challenge and develop a comprehensive approach."
        ]
      },
      'evening-reflection': {
        title: 'üåô Evening Reflection',
        question: 'How did your day go? What would you like to reflect on?',
        responses: [
          "Reflection is so valuable for growth. What stands out to you most about today?",
          "I appreciate you taking time to reflect. What felt most meaningful or challenging today?",
          "It's wise to pause and process. What lessons or insights are emerging from your day?",
          "Reflection helps us learn and improve. What would you do differently or want to celebrate?",
          "Thank you for sharing. What patterns or themes do you notice in how your day unfolded?"
        ]
      },
      'life-planning': {
        title: 'üó∫Ô∏è Life Planning',
        question: 'What aspect of your life would you like to plan or improve?',
        responses: [
          "Life planning is such an important investment in yourself. What's driving this focus area for you?",
          "That's a meaningful area to work on. What would success look like to you in this part of your life?",
          "Great area to focus on! What's working well now and what would you like to change or enhance?",
          "I love helping with life planning. What timeline are you thinking about and what are your key priorities?",
          "Thoughtful choice for planning. What obstacles or opportunities do you see in this area?"
        ]
      },
      'generate-website': {
        title: 'üåê Generate Website',
        question: 'What kind of website would you like to create?',
        responses: [
          "Exciting project! Let's talk about your goals, target audience, and the key features you'll need.",
          "Great timing for a website project! What's the primary purpose and what impression do you want to make?",
          "I love website projects! What's your vision for the design style and user experience?",
          "Perfect! Let's start with your content strategy and technical requirements. What's your timeline?",
          "Website creation is so rewarding! What existing sites inspire you and what's your target launch date?"
        ]
      },
      'brand-strategy': {
        title: 'üéØ Brand Strategy',
        question: 'What brand or business strategy would you like to develop?',
        responses: [
          "Brand strategy is foundational to success. What's your current market position and growth goals?",
          "Excellent strategic focus! What makes your brand unique and who's your ideal customer?",
          "Smart to invest in brand strategy. What challenges or opportunities are driving this initiative?",
          "I'm excited to work on this with you! What's your competitive landscape and differentiation strategy?",
          "Brand strategy work is so impactful. What timeline are you working with and what's your budget range?"
        ]
      },
      'debate-ideas': {
        title: '‚öñÔ∏è Debate Ideas',
        question: 'What topic would you like to explore from multiple perspectives?',
        responses: [
          "Great topic for multi-perspective analysis! Let's examine the key arguments and evidence on different sides.",
          "I love exploring complex issues! What's your current perspective and what viewpoints are you curious about?",
          "Perfect for thoughtful debate! Let me present some compelling arguments from various stakeholder positions.",
          "Excellent choice for perspective exploration. What sparked your interest in examining this topic deeply?",
          "Multi-perspective thinking is so valuable! Let's map out the different viewpoints and their underlying assumptions."
        ]
      },
      'onboarding-journeys': {
        title: 'üöÄ Onboarding Journeys',
        question: 'What onboarding experience would you like to design?',
        responses: [
          "Onboarding design is crucial for success! What type of users are you bringing into your system or organization?",
          "Great focus on user experience! What are the key outcomes you want people to achieve through onboarding?",
          "Smart to prioritize onboarding! What's the current experience like and what pain points exist?",
          "I love onboarding projects! What's the complexity level and what resources do you have for implementation?",
          "Onboarding can make or break user adoption. What success metrics will you use and what's your timeline?"
        ]
      }
    };
    
    // Default configuration
    const defaultConfig = {
      title: 'üé∏ Let\'s Start a Band! ü•Å',
      question: 'Tell me your favorite 7 bands.'
    };
    
    // Get current agent configuration
    const currentConfig = agentId && agentConfigs[agentId] ? agentConfigs[agentId] : defaultConfig;
    
    // Update title and initial message
    pageTitle.textContent = currentConfig.title;
    
    // Update the initial bot message
    const initialBotMessage = document.querySelector('.messages-area .text-lg');
    if (initialBotMessage) {
      initialBotMessage.textContent = currentConfig.question;
    }
    
    // Change agent status to ready after 500ms
    setTimeout(() => {
      statusIndicator.className = 'w-2 h-2 bg-green-400 rounded-full animate-pulse';
      statusText.textContent = 'Ready';
    }, 900);
    
    // Character counter functionality
    textarea.addEventListener('input', function() {
      const count = this.value.length;
      charCount.textContent = count;
      
      // Change color as approaching limit
      if (count > 1800) {
        charCount.style.color = '#ef4444';
      } else if (count > 1500) {
        charCount.style.color = '#f59e0b';
      } else {
        charCount.style.color = '#6b7280';
      }
    });

    // Clear button functionality
    const clearBtn = document.querySelector('[title="Clear"]');
    clearBtn.addEventListener('click', function() {
      textarea.value = '';
      charCount.textContent = '0';
      charCount.style.color = '#6b7280';
      textarea.focus();
    });

    // Quick action buttons
    const quickActions = document.querySelectorAll('[class*="bg-white bg-opacity-5"]');
    quickActions.forEach(button => {
      button.addEventListener('click', function() {
        textarea.value = this.textContent.trim();
        textarea.focus();
        charCount.textContent = textarea.value.length;
      });
    });

    // Function to add user message
    function addUserMessage(message) {
      const userMessageHtml = `
        <div class="flex justify-end">
          <div class="max-w-xs lg:max-w-md">
            <div class="bg-blue-500 bg-opacity-20 backdrop-filter backdrop-blur-sm rounded-2xl rounded-br-sm px-4 py-3 border border-blue-400 border-opacity-30">
              <p class="text-white">${message}</p>
            </div>
            <div class="flex items-center justify-end mt-1 mr-2">
              <span class="text-xs text-gray-500 mr-2">You</span>
              <div class="w-2 h-2 bg-green-400 rounded-full"></div>
            </div>
          </div>
        </div>
      `;
      messagesArea.insertAdjacentHTML('beforeend', userMessageHtml);
      messagesArea.scrollTop = messagesArea.scrollHeight;
    }

    // Function to add bot typing indicator
    function addBotTypingIndicator() {
      const typingHtml = `
        <div class="flex justify-start" id="botTyping">
          <div class="max-w-xs lg:max-w-md">
            <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-sm rounded-2xl rounded-bl-sm px-4 py-3 border border-white border-opacity-10">
              <div class="flex space-x-1">
                <div class="w-2 h-2 bg-gray-300 rounded-full animate-bounce"></div>
                <div class="w-2 h-2 bg-gray-300 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
                <div class="w-2 h-2 bg-gray-300 rounded-full animate-bounce" style="animation-delay: 0.4s;"></div>
              </div>
            </div>
            <div class="flex items-center mt-1 ml-2">
              <div class="w-2 h-2 bg-blue-400 rounded-full mr-2"></div>
              <span class="text-xs text-gray-500">Agent is typing...</span>
            </div>
          </div>
        </div>
      `;
      messagesArea.insertAdjacentHTML('beforeend', typingHtml);
      messagesArea.scrollTop = messagesArea.scrollHeight;
    }

    // Function to remove bot typing indicator and add response
    function addBotResponse(message) {
      // Remove typing indicator
      const typingElement = document.getElementById('botTyping');
      if (typingElement) {
        typingElement.remove();
      }

      // Add bot response
      const botMessageHtml = `
        <div class="flex justify-start">
          <div class="max-w-xs lg:max-w-md">
            <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-sm rounded-2xl rounded-bl-sm px-4 py-3 border border-white border-opacity-10">
              <p class="text-white">${message}</p>
            </div>
            <div class="flex items-center mt-1 ml-2">
              <div class="w-2 h-2 bg-blue-400 rounded-full mr-2"></div>
              <span class="text-xs text-gray-500">Agent</span>
            </div>
          </div>
        </div>
      `;
      messagesArea.insertAdjacentHTML('beforeend', botMessageHtml);
      messagesArea.scrollTop = messagesArea.scrollHeight;

      // Re-enable send button and restore appearance
      sendButton.disabled = false;
      sendButton.classList.remove('opacity-50', 'cursor-not-allowed');
      sendButton.style.backgroundColor = 'white';
      sendButton.style.color = '#1f2937';
      sendIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>';
      sendText.textContent = 'Send';
    }

    // Send button functionality
    sendButton.addEventListener('click', function() {
      const message = textarea.value.trim();
      if (message && !sendButton.disabled) {
        // Add user message
        addUserMessage(message);
        
        // Clear textarea
        textarea.value = '';
        charCount.textContent = '0';
        charCount.style.color = '#6b7280';
        
        // Disable send button and change appearance immediately
        sendButton.disabled = true;
        sendButton.classList.add('opacity-50', 'cursor-not-allowed');
        sendIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>';
        sendText.textContent = 'Sending...';
        
        // Show bot typing after 500ms delay
        setTimeout(() => {
          addBotTypingIndicator();
          
          // Simulate bot response after another 2-3 seconds
          setTimeout(() => {
            // Use agent-specific responses if available, otherwise fall back to default
            let availableResponses;
            if (currentConfig.responses) {
              availableResponses = currentConfig.responses;
            } else {
              // Default generic responses for fallback
              availableResponses = [
                "That's interesting! Tell me more about that.",
                "I see what you're getting at. What's driving your interest in this area?",
                "Great point! How does that connect to your overall goals?",
                "Thanks for sharing that. What would you like to explore next?",
                "I'm following your thinking. What aspects are most important to you?"
              ];
            }
            
            // Find unused responses
            let unusedIndices = [];
            for (let i = 0; i < availableResponses.length; i++) {
              if (!usedResponseIndices.has(i)) {
                unusedIndices.push(i);
              }
            }
            
            // If all responses have been used, reset the tracking
            if (unusedIndices.length === 0) {
              usedResponseIndices.clear();
              unusedIndices = Array.from({length: availableResponses.length}, (_, i) => i);
            }
            
            // Select random unused response
            const randomUnusedIndex = unusedIndices[Math.floor(Math.random() * unusedIndices.length)];
            const selectedResponse = availableResponses[randomUnusedIndex];
            
            // Mark this response index as used
            usedResponseIndices.add(randomUnusedIndex);
            
            addBotResponse(selectedResponse);
          }, Math.random() * 2000 + 2000); // 2-4 seconds
        }, 500);
      }
    });

    // Enter key to send (Shift+Enter for new line)
    textarea.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendButton.click();
      }
    });
  </script>
</body>
</html>